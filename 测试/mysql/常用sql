ä¸€ã€åº“å’Œè¡¨æ“ä½œ
1. åˆ›å»ºæ•°æ®åº“
sql
Copy
Edit
CREATE DATABASE mydb;
2. ä½¿ç”¨æ•°æ®åº“
sql
Copy
Edit
USE mydb;
3. åˆ›å»ºè¡¨
sql
Copy
Edit
CREATE TABLE students (
  id INT PRIMARY KEY AUTO_INCREMENT,
  name VARCHAR(50),
  age INT,
  gender ENUM('M', 'F'),
  score FLOAT
);
4. æŸ¥çœ‹è¡¨ç»“æ„
sql
Copy
Edit
DESC students;
5. åˆ é™¤è¡¨/åº“
sql
Copy
Edit
DROP TABLE students;
DROP DATABASE mydb;
âœ… äºŒã€æ•°æ®æ“ä½œï¼ˆDMLï¼‰
1. æ’å…¥æ•°æ®
sql
Copy
Edit
INSERT INTO students (name, age, gender, score)
VALUES ('Alice', 20, 'F', 88.5);
2. æŸ¥è¯¢æ•°æ®ï¼ˆSELECTï¼‰
sql
Copy
Edit
SELECT * FROM students;
SELECT name, age FROM students WHERE age > 18;
3. æ›´æ–°æ•°æ®
sql
Copy
Edit
UPDATE students SET score = 95 WHERE name = 'Alice';
4. åˆ é™¤æ•°æ®
sql
Copy
Edit
DELETE FROM students WHERE id = 1;
âœ… ä¸‰ã€æŸ¥è¯¢è¯­æ³•ç»†èŠ‚
1. æ¡ä»¶æŸ¥è¯¢ WHERE
sql
Copy
Edit
SELECT * FROM students WHERE age >= 18 AND gender = 'F';
2. æ¨¡ç³ŠåŒ¹é… LIKE
sql
Copy
Edit
SELECT * FROM students WHERE name LIKE 'A%';   -- ä»¥ A å¼€å¤´
SELECT * FROM students WHERE name LIKE '%e';   -- ä»¥ e ç»“å°¾
3. èŒƒå›´ IN / BETWEEN
sql
Copy
Edit
SELECT * FROM students WHERE age BETWEEN 18 AND 22;
SELECT * FROM students WHERE name IN ('Alice', 'Bob');
4. ç©ºå€¼åˆ¤æ–­
sql
Copy
Edit
SELECT * FROM students WHERE score IS NULL;
âœ… å››ã€æ’åºå’Œåˆ†é¡µ
1. æ’åº ORDER BY
sql
Copy
Edit
SELECT * FROM students ORDER BY score DESC, age ASC;
2. åˆ†é¡µ LIMIT
sql
Copy
Edit
SELECT * FROM students LIMIT 0, 5;  -- ç¬¬1é¡µï¼ˆä»ç¬¬0è¡Œå¼€å§‹å–5æ¡ï¼‰
SELECT * FROM students LIMIT 5, 5;  -- ç¬¬2é¡µ
âœ… äº”ã€åˆ†ç»„ GROUP BY + èšåˆå‡½æ•°
sql
Copy
Edit
SELECT gender, COUNT(*) AS total, AVG(score) AS avg_score
FROM students
GROUP BY gender
HAVING avg_score > 80;
èšåˆå‡½æ•°åŒ…æ‹¬ï¼š

COUNT()ï¼šè®¡æ•°

SUM()ï¼šæ±‚å’Œ

AVG()ï¼šå¹³å‡å€¼

MAX()ï¼šæœ€å¤§å€¼

MIN()ï¼šæœ€å°å€¼

âœ… å…­ã€è¡¨è¿æ¥ JOIN
1. å†…è¿æ¥ï¼ˆæœ€å¸¸ç”¨ï¼‰
sql
Copy
Edit
SELECT s.name, c.class_name
FROM students s
JOIN classes c ON s.class_id = c.id;
2. å·¦è¿æ¥ï¼ˆåŒ…å«å·¦è¡¨æ‰€æœ‰æ•°æ®ï¼‰
sql
Copy
Edit
SELECT s.name, c.class_name
FROM students s
LEFT JOIN classes c ON s.class_id = c.id;
âœ… ä¸ƒã€å­æŸ¥è¯¢
æŸ¥è¯¢åˆ†æ•°é«˜äºå¹³å‡å€¼çš„å­¦ç”Ÿ
sql
Copy
Edit
SELECT * FROM students
WHERE score > (SELECT AVG(score) FROM students);
âœ… å…«ã€è§†å›¾ VIEWï¼ˆé€»è¾‘è¡¨ï¼‰
sql
Copy
Edit
CREATE VIEW high_score_students AS
SELECT name, score FROM students WHERE score > 90;

SELECT * FROM high_score_students;
âœ… ä¹ã€ç´¢å¼•ï¼ˆæé«˜æŸ¥è¯¢æ•ˆç‡ï¼‰
sql
Copy
Edit
CREATE INDEX idx_age ON students(age);
âœ… åã€å¸¸è§æ•°æ®ç±»å‹
ç±»å‹	ç”¨æ³•è¯´æ˜
INT	æ•´æ•°
FLOAT	æµ®ç‚¹æ•°
VARCHAR(n)	å¯å˜é•¿åº¦å­—ç¬¦ä¸²
TEXT	å¤§æ®µæ–‡å­—
DATE	æ—¥æœŸ
DATETIME	æ—¥æœŸæ—¶é—´
ENUM	æšä¸¾ï¼Œå¦‚ ENUM('M','F')

ğŸ“Œ ç¤ºä¾‹å°ç»ƒä¹ ï¼ˆå¯é€‰ï¼‰
é€‰å‡ºæˆç»©åœ¨ 80 åˆ†ä»¥ä¸Šçš„ç”·ç”Ÿï¼ŒæŒ‰åˆ†æ•°é™åºæ’åˆ—ï¼Œå–å‰ 3 ä¸ªï¼š

sql
Copy
Edit
SELECT name, score
FROM students
WHERE gender = 'M' AND score > 80
ORDER BY score DESC
LIMIT 3;

å¸¸ç”¨ ALTER TABLE æ“ä½œæ±‡æ€» + ç¤ºä¾‹
1ï¸âƒ£ æ·»åŠ å­—æ®µï¼ˆåˆ—ï¼‰
sql
Copy
Edit
ALTER TABLE students
ADD COLUMN phone VARCHAR(20);
ğŸ‘‰ åœ¨è¡¨ä¸­æ–°å¢ phone åˆ—

2ï¸âƒ£ ä¿®æ”¹å­—æ®µç±»å‹
sql
Copy
Edit
ALTER TABLE students
MODIFY COLUMN score DECIMAL(5,2);
ğŸ‘‰ å°† score å­—æ®µä»åŸæ¥çš„ç±»å‹æ”¹æˆ DECIMAL(5,2)ï¼Œç”¨äºæ›´ç²¾ç¡®çš„åˆ†æ•°è¡¨ç¤ºï¼ˆå¦‚ 98.75ï¼‰

3ï¸âƒ£ ä¿®æ”¹å­—æ®µåç§°å’Œç±»å‹
sql
Copy
Edit
ALTER TABLE students
CHANGE COLUMN score final_score INT;
ğŸ‘‰ æŠŠ score æ”¹åä¸º final_scoreï¼Œå¹¶åŒæ—¶æ”¹ä¸º INT ç±»å‹

4ï¸âƒ£ åˆ é™¤å­—æ®µ
sql
Copy
Edit
ALTER TABLE students
DROP COLUMN phone;
ğŸ‘‰ åˆ é™¤ phone è¿™ä¸€åˆ—

5ï¸âƒ£ è®¾ç½®ä¸»é”®
sql
Copy
Edit
ALTER TABLE students
ADD PRIMARY KEY (id);
6ï¸âƒ£ æ·»åŠ å”¯ä¸€çº¦æŸï¼ˆUNIQUEï¼‰
sql
Copy
Edit
ALTER TABLE students
ADD UNIQUE (name);
7ï¸âƒ£ æ·»åŠ å¤–é”®
sql
Copy
Edit
ALTER TABLE students
ADD CONSTRAINT fk_class
FOREIGN KEY (class_id) REFERENCES classes(id);
8ï¸âƒ£ åˆ é™¤ä¸»é”® / å¤–é”® / ç´¢å¼•
sql
Copy
Edit
ALTER TABLE students DROP PRIMARY KEY;
ALTER TABLE students DROP FOREIGN KEY fk_class;
ALTER TABLE students DROP INDEX idx_age;
9ï¸âƒ£ æ·»åŠ ç´¢å¼•
sql
Copy
Edit
ALTER TABLE students
ADD INDEX idx_name (name);
ğŸ”Ÿ é‡å‘½åè¡¨å
sql
Copy
Edit
RENAME TABLE students TO student_info;

